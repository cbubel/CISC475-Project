<a class="btn btn-primary float-right" href="#/add-student">Add Student</a>
<h1>Students</h1>
<body>
  <div ng-controller="tableCtrl">
    <div>
      <hr>
          <h4>Filters:</h4>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>First Name: <input ng-model="search.first_name"></label>&nbsp;&nbsp;&nbsp;
      <label>Last Name: <input ng-model="search.last_name"></label>&nbsp;&nbsp;&nbsp;
      <label>Tag: <input ng-model="search.tags"></label><br>
      <!-- Have mercy on my ugly code. It works...  -->
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>Graduate: <input type=radio ng-model="search.isUndergrad" ng-value="true"></label>&nbsp;&nbsp;&nbsp;
	  <label>Undergraduate: <input type=radio ng-model="search.isUndergrad" ng-value="false"></label>&nbsp;&nbsp;&nbsp;
    <label>All: <input type=radio ng-model="search.isUndergrad" ng-value=""></label><br><br>
	<button id="clear-filter" ng-click="search=[]" type="button">Clear Filter</button>
      <table class="table table-hover table-condensed table-striped">
        <thead class="levelOne">
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th></th>
          </tr>
        </thead>
        <tbody data-ng-repeat="student in students | filter:search track by student.firebaseId " data-ng-switch on="DataCollapse[$index]">
          <tr class="clickableRow" title="Click to toggle collapse/expand extra student info." data-ng-click="selectTableRow($index, student.id)" >
            <td>{{student.first_name}}</td>
            <td>{{student.last_name}}</td>
            <td>{{student.email}}</td>
            <td><a href="#/edit-student/{{student.firebaseId}}">Edit</a></td>
          </tr>
          <tr data-ng-switch-when="true">
            <td ng-if="student.isUndergrad" style="font-weight:bold">Undergraduate</td>
            <!--This is where sub-data goes-->
            <td ng-if="!student.isUndergrad" style="font-weight:bold">Graduate</td>
          <tr data-ng-switch-when="true">
            <td colspan="9" style="font-weight:bold">
              Schedule
              <div class="span12">
                <div class="pull-left">
                  <table class="table table-hover table-condensed table-striped">
                    <thead class="levelTwo">
                      <tr>
                        <th>Course ID</th>
                        <th>Days</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                      </tr>
                    </thead>
                    <tbody data-ng-repeat="class in student.schedule">
                      <tr>
                        <td>{{class.id}}</td>
                        <td>{{writeBusyDays(class)}}</td>
                        <td>{{class.start_time}}</td>
                        <td>{{class.end_time}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </td>
          </tr>
          <tr data-ng-switch-when="true">
            <td colspan="9" style="font-weight:bold">
              Grades
              <div class="span9">
                <div class="pull-left">
                  <table class="table table-hover table-condensed table-striped">
                    <thead class="levelTwo">
                      <tr>
                        <th>Course ID</th>
                        <th>Grade</th>
                      </tr>
                    </thead>
                    <tbody data-ng-repeat="grade in student.grades">
                      <tr>
                        <td>{{grade.id}}</td>
                        <td>{{grade.letter_grade}}
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </td>
          </tr>
          <tr data-ng-switch-when="true">
            <td colspan="9" style="font-weight:bold">
              Tags
              <div class="span9">
                <div class="pull-left">
                  <table class="table table-hover table-condensed table-striped">
                    <thead class="levelTwo" data-ng-repeat="tag in makeTagArray(student.tags)">
                      <tr>
                        <td>{{tag}}</td>
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
              </div>
            </td>
          </tr>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- End of table -->
  </div>
  </body
